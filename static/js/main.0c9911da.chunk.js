(this.webpackJsonpalbum=this.webpackJsonpalbum||[]).push([[1],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),u=n(2),s=n(3),i=(n(16),n(1)),l=new Map([["home",r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,49))}))],["login",r.a.lazy((function(){return n.e(6).then(n.bind(null,48))}))],["album",r.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,50))}))]]);var b=function(){var e=Object(a.useState)({name:"home",params:{}}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(function(){try{var e=localStorage.getItem(s.b);return JSON.parse(e)}catch(t){return}}()),o=Object(u.a)(c,2),b=o[0],d={setPage:r,page:n},h={setAuth:o[1],auth:b},f=l.has(n.name)?l.get(n.name):l.get("home");return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(s.c.Provider,{value:d,children:Object(i.jsx)(s.a.Provider,{value:h,children:Object(i.jsx)(a.Suspense,{fallback:Object(i.jsx)("div",{children:"Loading..."}),children:Object(i.jsx)(f,{})})})})})};o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root"))},3:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f}));var a=n(4),r=n.n(a),c=n(7),o=n(2),u=n(0),s=n.n(u),i=n(10),l=s.a.createContext(null),b=function(){return Object(u.useContext)(l)},d="googleAuthResponse",h=s.a.createContext(null),f=function(){var e=Object(u.useContext)(h),t=e.setAuth,n=e.auth,a=Object(u.useState)(),s=Object(o.a)(a,2),l=s[0],b=s[1],f=Object(u.useCallback)(Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=7;break}return e.next=3,l();case 3:return n=e.sent,localStorage.setItem(d,JSON.stringify(n)),t(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),[l,t]),j=Object(u.useCallback)((function(){localStorage.removeItem(d),window.location.reload()}),[]),g=Object(i.useGoogleLogin)({onSuccess:function(e){var n=e.getAuthResponse();localStorage.setItem(d,JSON.stringify(n)),t(n),b(e.reloadAuthResponse)},clientId:"488762331302-o2knjrrhfk1bc4f5fecusvaod97uosdt.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/photoslibrary.readonly"}).signIn;return Object(u.useEffect)((function(){(!n||n.expires_at<(new Date).getTime())&&g()}),[n,g]),{auth:n,authReload:f,logout:j}}}},[[18,2,3]]]);
//# sourceMappingURL=main.0c9911da.chunk.js.map