(this.webpackJsonpalbum=this.webpackJsonpalbum||[]).push([[1],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(10),c=n.n(a),u=n(2),s=n(3),i=(n(16),n(1)),l=new Map([["home",r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,49))}))],["login",r.a.lazy((function(){return n.e(6).then(n.bind(null,48))}))],["album",r.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,50))}))]]);var b=function(){var e=Object(o.useState)({name:"home",params:{}}),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(function(){try{var e=localStorage.getItem(s.b);return JSON.parse(e)}catch(t){return}}()),c=Object(u.a)(a,2),b=c[0],f={setPage:r,page:n},g={setAuth:c[1],auth:b},d=l.has(n.name)?l.get(n.name):l.get("home");return Object(i.jsx)(s.c.Provider,{value:f,children:Object(i.jsx)(s.a.Provider,{value:g,children:Object(i.jsx)(o.Suspense,{fallback:Object(i.jsx)("div",{children:"Loading..."}),children:Object(i.jsx)(d,{})})})})};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root"))},3:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return j}));var o=n(4),r=n.n(o),a=n(8),c=n(2),u=n(0),s=n.n(u),i=n(7),l="488762331302-o2knjrrhfk1bc4f5fecusvaod97uosdt.apps.googleusercontent.com",b="https://www.googleapis.com/auth/photoslibrary.readonly",f=s.a.createContext(null),g=function(){return Object(u.useContext)(f)},d="googleAuthResponse",h=s.a.createContext(null),j=function(){var e=Object(u.useContext)(h),t=e.setAuth,n=e.auth,o=Object(u.useState)(),s=Object(c.a)(o,2),f=s[0],g=s[1],j=Object(u.useCallback)(Object(a.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=7;break}return e.next=3,f();case 3:return n=e.sent,localStorage.setItem(d,JSON.stringify(n)),t(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),[f,t]),p=Object(i.useGoogleLogin)({onSuccess:function(e){var n=e.getAuthResponse();localStorage.setItem(d,JSON.stringify(n)),t(n),g(e.reloadAuthResponse)},clientId:l,scope:b}).signIn,O=Object(i.useGoogleLogout)({onSuccess:function(){t(void 0),localStorage.removeItem(d)},onFailure:function(e){console.log("logout fail"),console.log(e)},clientId:l,scope:b}).signOut;return Object(u.useEffect)((function(){(!n||n.expires_at<(new Date).getTime())&&p()}),[n,p]),{auth:n,signOut:O,authReload:j}}}},[[18,2,3]]]);
//# sourceMappingURL=main.dea2e937.chunk.js.map