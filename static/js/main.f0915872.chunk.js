(this.webpackJsonpalbum=this.webpackJsonpalbum||[]).push([[1],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(10),c=n.n(r),u=n(2),s=n(3),i=(n(16),n(1)),l=new Map([["home",a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,49))}))],["login",a.a.lazy((function(){return n.e(6).then(n.bind(null,48))}))],["album",a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,50))}))]]);var b=function(){var e=Object(o.useState)({name:"home",params:{}}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(function(){try{var e=localStorage.getItem(s.b);return JSON.parse(e)}catch(t){return}}()),c=Object(u.a)(r,2),b=c[0],d={setPage:a,page:n},f={setAuth:c[1],auth:b},g=l.has(n.name)?l.get(n.name):l.get("home");return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(s.c.Provider,{value:d,children:Object(i.jsx)(s.a.Provider,{value:f,children:Object(i.jsx)(o.Suspense,{fallback:Object(i.jsx)("div",{children:"Loading..."}),children:Object(i.jsx)(g,{})})})})})};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root"))},3:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return j}));var o=n(4),a=n.n(o),r=n(8),c=n(2),u=n(0),s=n.n(u),i=n(7),l="488762331302-o2knjrrhfk1bc4f5fecusvaod97uosdt.apps.googleusercontent.com",b="https://www.googleapis.com/auth/photoslibrary.readonly",d=s.a.createContext(null),f=function(){return Object(u.useContext)(d)},g="googleAuthResponse",h=s.a.createContext(null),j=function(){var e=Object(u.useContext)(h),t=e.setAuth,n=e.auth,o=Object(u.useState)(),s=Object(c.a)(o,2),d=s[0],f=s[1],j=Object(u.useCallback)(Object(r.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=7;break}return e.next=3,d();case 3:return n=e.sent,localStorage.setItem(g,JSON.stringify(n)),t(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),[d,t]),p=Object(i.useGoogleLogin)({onSuccess:function(e){var n=e.getAuthResponse();localStorage.setItem(g,JSON.stringify(n)),t(n),f(e.reloadAuthResponse)},clientId:l,scope:b}).signIn,O=Object(i.useGoogleLogout)({onSuccess:function(){t(void 0),localStorage.removeItem(g)},onFailure:function(e){console.log("logout fail"),console.log(e)},clientId:l,scope:b}).signOut;return Object(u.useEffect)((function(){(!n||n.expires_at<(new Date).getTime())&&p()}),[n,p]),{auth:n,signOut:O,authReload:j}}}},[[18,2,3]]]);
//# sourceMappingURL=main.f0915872.chunk.js.map